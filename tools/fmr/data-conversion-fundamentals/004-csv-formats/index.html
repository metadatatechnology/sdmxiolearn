<!doctype html><html><head><title>sdmx.io e-learning</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=revised content="2022-08-22T17:42:52 UTC"><title>Unit 04 SDMX CSV data transmission formats :: sdmx.io e-learning</title><link rel="shortcut icon" href=/sdmxiolearn/images/favicon.png type=image/x-icon><link href=/sdmxiolearn/css/nucleus.css rel=stylesheet><link href=/sdmxiolearn/css/font-awesome.min.css rel=stylesheet><link href=/sdmxiolearn/css/featherlight.min.css rel=stylesheet><link href=/sdmxiolearn/css/auto-complete.css rel=stylesheet><link href=/sdmxiolearn/theme-flex/style.css rel=stylesheet><link rel=stylesheet href=/sdmxiolearn/css/bootstrap.min.css><link href=/sdmxiolearn/css/custom.css rel=stylesheet><meta name=description content="Unit 04 SDMX CSV data transmission formats"></head><body data-url=/sdmxiolearn/tools/fmr/data-conversion-fundamentals/004-csv-formats/><header><div class=logo><p><a href=/sdmxiolearn/><img src=/sdmxiolearn/images/logo.png style=height:47px;padding-top:5px> e-learning</a></p></div><div class=burger><a href=javascript:void(0); style=font-size:15px>&#9776;</a></div></header><article><aside><ul class=menu><li data-nav-id=https://metadatatechnology.github.io/sdmxiolearn/tools/ class="dd-item alwaysopen haschildren"><div><a href=/sdmxiolearn/tools/>sdmx.io tools</a>
<i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=https://metadatatechnology.github.io/sdmxiolearn/tools/fmr/ class="dd-item alwaysopen haschildren"><div><a href=/sdmxiolearn/tools/fmr/>Fusion Metadata Registry</a>
<i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul><li data-nav-id=https://metadatatechnology.github.io/sdmxiolearn/tools/fmr/getting-start-running-in-docker/ class="dd-item haschildren"><div><a href=/sdmxiolearn/tools/fmr/getting-start-running-in-docker/>SIO-2201 Running FMR in Docker</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul></ul></li><li data-nav-id=https://metadatatechnology.github.io/sdmxiolearn/tools/fmr/data-conversion-fundamentals/ class="dd-item haschildren"><div><a href=/sdmxiolearn/tools/fmr/data-conversion-fundamentals/>SIO-2202 Data conversion fundamentals</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i></div><ul></ul></li><li data-nav-id=https://metadatatechnology.github.io/sdmxiolearn/tools/fmr/mapping-microdata-to-timeseries/ class=dd-item><div><a href=/sdmxiolearn/tools/fmr/mapping-microdata-to-timeseries/>SIO-2203 Transform multi-measure non-time series data to time series</a><i class="fa fa-circle-thin read-icon"></i></div></li><li data-nav-id=https://metadatatechnology.github.io/sdmxiolearn/tools/fmr/mapping-split-or-combine-dimensions/ class=dd-item><div><a href=/sdmxiolearn/tools/fmr/mapping-split-or-combine-dimensions/>SIO-2204 Split out or collapse dimensions for time series data</a><i class="fa fa-circle-thin read-icon"></i></div></li></ul></li></ul></li></ul><section></section></aside><section class=page><div class=nav-select><center>Navigation :
<select onchange="location.href=this.value"><option value=/sdmxiolearn/tools/>
sdmx.io tools</option><option value=/sdmxiolearn/tools/fmr/>
-
Fusion Metadata Registry</option><option value=/sdmxiolearn/tools/fmr/getting-start-running-in-docker/>
--
SIO-2201 Running FMR in Docker</option><option value=/sdmxiolearn/tools/fmr/data-conversion-fundamentals/>
--
SIO-2202 Data conversion fundamentals</option><option value=/sdmxiolearn/tools/fmr/mapping-microdata-to-timeseries/>
--
SIO-2203 Transform multi-measure non-time series data to time series</option><option value=/sdmxiolearn/tools/fmr/mapping-split-or-combine-dimensions/>
--
SIO-2204 Split out or collapse dimensions for time series data</option></select></center></div><div><div class=searchbox><input data-search-input id=search-by type=text placeholder=Search...></div></div><h1>Unit 04 SDMX CSV data transmission formats</h1><h2 id=introduction>Introduction</h2><p><a href=https://en.wikipedia.org/wiki/Comma-separated_values>CSV</a> was introduced as a transmission format for <strong>data only</strong> as an addition to SDMX 2.1 and was subsequently updated with the release of SDMX 3.0.<br>Like JSON, there are two distinct versions of the data message:</p><ul><li>version 1 supports the SDMX 2.1 information model</li><li>version 2 supports the SDMX 3.0 information model</li></ul><p>In this unit we&rsquo;ll look at the general principles of the SDMX CSV data messages and note the differences between the two versions.</p><h2 id=sdmx-csv-v1-data-transmission-message>SDMX-CSV v1 data transmission message</h2><p>The SDMX-CSV v1 data message specification was added to SDMX 2.1 to provide a more convenient way to work with SDMX datasets using standard software tools like Excel, &lsquo;R&rsquo;, Tableau, Power BI and other business intelligence and statistics packages.</p><p>The CSV follows a standard 2-dimensional table layout with fixed columns and one row per observation.</p><p>There must be one column for the dataflow, one column per dimension, one column for the primary measure and one column per attribute. All dimensions defined in the Dataflow&rsquo;s Data Structure Definition (DSD) must be included.</p><p>A header row defines the meaning of each column.</p><p>In the simple case the value of each component is just the <strong>Id</strong>:</p><pre tabindex=0><code class=language-csv data-lang=csv>DATAFLOW,    REF_AREA, INDICATOR, SUB_INDICATOR, FREQ, TIME_PERIOD, OBS_VALUE
WB:GCI(1.0), GHA,      GCI,       RANK,          A,    2008,        102
WB:GCI(1.0), GHA,      GCI,       RANK,          A,    2009,        114
WB:GCI(1.0), GHA,      GCI,       RANK,          A,    2010,        114
WB:GCI(1.0), GHA,      GCI,       RANK,          A,    2011,        114
WB:GCI(1.0), GHA,      GCI,       RANK,          A,    2012,        103
WB:GCI(1.0), GHA,      GCI,       RANK,          A,    2013,        114
WB:GCI(1.0), GHA,      GCI,       RANK,          A,    2014,        111
</code></pre><p>Component <strong>Names</strong> (sometimes called Labels) can also be included by encoding each value as <code>Id : Name</code> as follows:</p><pre tabindex=0><code class=language-csv data-lang=csv>DATAFLOW,                                  REF_AREA:Reference Area, INDICATOR:Indicator,               SUB_INDICATOR:Sub Indicator, FREQ:Frequency, TIME_PERIOD:Time period, OBS_VALUE:Observation
WB:GCI(1.0): Global Competitiveness Index, GHA: Ghana,              GCI: Global Competitiveness Index, RANK: Rank,                  A: Annual,      2008,                    102
WB:GCI(1.0): Global Competitiveness Index, GHA: Ghana,              GCI: Global Competitiveness Index, RANK: Rank,                  A: Annual,      2009,                    114
WB:GCI(1.0): Global Competitiveness Index, GHA: Ghana,              GCI: Global Competitiveness Index, RANK: Rank,                  A: Annual,      2010,                    114
WB:GCI(1.0): Global Competitiveness Index, GHA: Ghana,              GCI: Global Competitiveness Index, RANK: Rank,                  A: Annual,      2011,                    114
WB:GCI(1.0): Global Competitiveness Index, GHA: Ghana,              GCI: Global Competitiveness Index, RANK: Rank,                  A: Annual,      2012,                    103
WB:GCI(1.0): Global Competitiveness Index, GHA: Ghana,              GCI: Global Competitiveness Index, RANK: Rank,                  A: Annual,      2013,                    114
WB:GCI(1.0): Global Competitiveness Index, GHA: Ghana,              GCI: Global Competitiveness Index, RANK: Rank,                  A: Annual,      2014,                    111
</code></pre><h2 id=sdmx-csv-v2-data-transmission-message>SDMX-CSV v2 data transmission message</h2><p>The SDMX-CSV v2 data message follows the same general principle of one observation per row.</p><p>V2 was introduced with SDMX 3.0 and includes support for the additional features added to that version of the standard, in particular:</p><ul><li>multiple measures</li><li>complex attributes and measures : multi-lingual values and arrays of values</li><li>transmission of reference metadata linked to the data as part of the data message</li></ul><p>Datasets are also no longer restricted to just Dataflows and can instead reference a Dataflow, Data Structure Definition or a Provision Agreement. SDMX-CSV v2 supports this by changing the first two columns to describe the structure type (<strong>STRUCTURE</strong> : dataflow, datastructure or dataprovision) and its Id (<strong>STRUCTURE_ID</strong>)</p><p>In addition, the third column now specifies the action type (<strong>ACTION</strong>) bringing CSV into line with the XML and JSON formats that already provide for this, and better supporting the data exchange use case. The SDMX technical specifications define four action types which are encoded in a v2 CSV message using single characters:</p><ul><li><code>I</code> - Information - the data is intended for informational purposes only, but treated as Append by the receiver</li><li><code>A</code> - Append - instructs incremental update of existing observations by the received</li><li><code>R</code> - Replace - instructs the receiver that existing observations should be replaced or appended if they don&rsquo;t already exist</li><li><code>D</code> - Delete - instructs the receiver to delete the referenced data</li></ul><p>There can be a mix of action types within a single data message.</p><p>The following simple example message has three observations for the dataflow <code>ESTAT:CENS_91SMSTA(1.0)</code> with an action type of <code>I</code> indicating that the data is for information purposes only. Note that <code>OBS_STATUS</code> is an optional observation level attribute.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>STRUCTURE,STRUCTURE_ID,ACTION,FREQ,MARSTA,AGE,SEX,UNIT,GEO,TIME_PERIOD,OBS_VALUE,TIME_FORMAT,OBS_STATUS
</span></span><span style=display:flex><span>dataflow,ESTAT:CENS_91SMSTA(1.0),I,A,TOTAL,Y25-29,F,PER,FR,1991,2162398,P1Y,
</span></span><span style=display:flex><span>dataflow,ESTAT:CENS_91SMSTA(1.0),I,A,TOTAL,Y25-29,M,PER,FR,1991,2147582,P1Y,
</span></span><span style=display:flex><span>dataflow,ESTAT:CENS_91SMSTA(1.0),I,A,TOTAL,Y25-29,T,PER,FR,1991,4309980,P1Y,
</span></span></code></pre></div><h2 id=tips-and-points-to-note>Tips and points to note</h2><div class="panel panel-primary"><div class=panel-body><p>Values that contain commas must be enclosed in double-quotes</p><p>Some implementations support delimiters other than comma, semi-colon (<code>;</code>) for instance.</p></div></div><h2 id=recap>Recap</h2><ul><li>The SDMX standard has two versions of the CSV data transmission message, both of which are in use</li><li>All SDMX-CSV messages have one observation per row</li><li>v1 was introduced as an addition to SDMX 2.1</li><li>v2 was introduced with SDMX 3.0, follows the same principles and structure as the v1 message but with extensions to support the additional SDMX 3.0 information model features including multiple measures, complex attributes and reference metadata in transit with the data</li><li>The v2 message also adds support for action type providing better support for the data exchange use case - v1 by contrast was best suited to data query response</li><li>Replication of component Ids and possibly names (labels) for each observation make CSV inefficient for large datasets</li></ul><h2 id=in-the-next-unit>In the next unit</h2><p>In the next unit we&rsquo;ll look at the legacy GESMES / EDIFACT EDI data message which remains in use</p><div class=chevrons><div id=navigation><a class="nav nav-prev" style=color:#000;font-size:.7rem href=/sdmxiolearn/tools/fmr/data-conversion-fundamentals/003-json-formats/ title="Unit 03 SDMX JSON data transmission formats"><i class="fa fa-chevron-left"></i> <label style=margin-left:2rem>Unit 03 SDMX JSON data transmission formats</label></a>
<a class="nav nav-next" style=color:#000;font-size:.7rem href=/sdmxiolearn/tools/fmr/data-conversion-fundamentals/005-edifact-format/ title="Unit 05 EDI data transmission formats" style=margin-right:0><label style=margin-right:2rem>Unit 05 EDI data transmission formats</label> <i class="fa fa-chevron-right"></i></a></div></div></section></article><footer><div class=footline><div class=tags><a class="label label-default" style=font-weight:200;font-size:1rem href=https://metadatatechnology.github.io/sdmxiolearn/tags/csv>CSV</a></div><div class=date><i class='fa fa-calendar'></i> Last update on 21/08/2022</div></div><div><p>Copyright 2022 Bank for International Settlements. All rights reserved.</p></div></footer><script src=/sdmxiolearn/js/jquery-2.x.min.js></script>
<script type=text/javascript>var baseurl="https://metadatatechnology.github.io/sdmxiolearn/"</script><script src=/sdmxiolearn/js/clipboard.min.js></script>
<script src=/sdmxiolearn/js/featherlight.min.js></script>
<script type=text/javascript src=/sdmxiolearn/js/lunr.min.js></script>
<script type=text/javascript src=/sdmxiolearn/js/auto-complete.js></script>
<script type=text/javascript src=/sdmxiolearn/js/search.js></script>
<script src=/sdmxiolearn/theme-flex/script.js></script>
<script src=https://metadatatechnology.github.io/sdmxiolearn/js/scripts.min.js></script></body></html>